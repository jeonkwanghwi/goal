<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹„ì „ ëŒ€ì‹œë³´ë“œ v13 (Masterpiece)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âœ¨</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .grid-accordion {
            display: grid;
            grid-template-rows: 0fr;
            transition: grid-template-rows 0.4s ease-in-out;
        }
        .grid-accordion.open {
            grid-template-rows: 1fr;
        }
        .grid-accordion > div {
            overflow: hidden;
        }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .tab-panel.hidden { display: none; }
        .animated-gradient {
            background: linear-gradient(-45deg, #a8e6cf, #dcedc1, #ffd3b6, #ffaaa5);
            background-size: 400% 400%;
            animation: gradientFlow 10s ease infinite;
        }
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .stagger-in {
            animation: cardFadeIn 0.5s ease-out both;
            animation-delay: calc(var(--i, 0) * 80ms);
        }
        @keyframes cardFadeIn {
            from { opacity: 0; transform: translateY(20px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .pulsing-button {
            animation: pulse 2s infinite cubic-bezier(0.4, 0, 0.6, 1);
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(2, 132, 199, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(2, 132, 199, 0); }
        }
        .clickable { transition: transform 0.1s ease; }
        .clickable:active { transform: scale(0.97); }
        
        .tab-nav-container { position: relative; }
        .tab-underline {
            position: absolute;
            bottom: -1px;
            height: 3px;
            background-color: #0ea5e9;
            border-radius: 1.5px;
            transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>
<body class="bg-slate-50">

    <div class="flex h-screen">
        <aside class="w-64 bg-white border-r border-slate-200 flex flex-col shrink-0">
            <div class="p-6 text-center border-b border-slate-200">
                <h1 class="text-2xl font-bold text-sky-600 tracking-wider">VISION BOARD</h1>
            </div>
            <nav id="user-selector" class="flex-1 p-3 space-y-1"></nav>
        </aside>

        <main id="dashboard-container" class="flex-1 p-6 sm:p-8 lg:p-10 overflow-y-auto animated-gradient">
            <div id="initial-view" class="flex items-center justify-center h-full">
                <div class="text-center text-slate-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-16 w-16 text-teal-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.758 16.586l.002-.001M16.242 16.586l.002-.001M12 18.75a.75.75 0 100-1.5.75.75 0 000 1.5zM12 6.75a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z" /></svg>
                    <h2 class="mt-4 text-2xl font-semibold">ë¹„ì „ ë³´ë“œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h2>
                    <p class="mt-2 text-slate-400">ì™¼ìª½ì—ì„œ ì‚¬ìš©ìë¥¼ ì„ íƒí•˜ì—¬ ì—¬ì •ì„ ì‹œì‘í•˜ì„¸ìš”.</p>
                </div>
            </div>
            <div id="user-dashboard" class="hidden">
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- ë©”ì¸ ì½˜í…ì¸  (ì¢Œì¸¡) -->
                    <div class="flex-1">
                        <header id="user-header" class="mb-8"></header>
                        <div id="tab-nav-container" class="tab-nav-container border-b border-slate-200">
                            <nav id="tab-nav" class="flex space-x-2 sm:space-x-4"></nav>
                            <div id="tab-underline" class="tab-underline"></div>
                        </div>
                        <div id="tab-content" class="mt-8"></div>
                    </div>
                    <!-- ìê¸°ì†Œê°œ (ìš°ì¸¡) -->
                    <div id="intro-container" class="w-full lg:w-72 shrink-0">
                        <!-- ìê¸°ì†Œê°œ ë°•ìŠ¤ê°€ ì—¬ê¸°ì— ë Œë”ë§ë©ë‹ˆë‹¤. -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // --- ë°ì´í„° ì˜ì—­ ---
        const usersData = [
            {
                id: 'user1', name: 'ì „ê´‘íœ˜', position: 'ì§ë”©', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=J',
                introduction: "ê³µë¶€ëŠ” ì‹«ì§€ë§Œ ë„ì›€ë˜ëŠ” ì‚¬ëŒì€ ë˜ê³ ì‹¶ì–´ì„œ ì–µì§€ë¡œ ê³µë¶€í•˜ëŠ” ì‚¬ëŒ",
                goals: {
                    short: [
                        { title: 'ë§¤ì¼ ì˜ì–´ ë‹¨ì–´ 20ê°œ ì™¸ìš°ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì¥ê¸°ì ìœ¼ë¡œ ì˜ì–´ì˜ ì‹ ì´ ë˜ê² ë‹¤.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : 19ì‚´ë•Œë¶€í„° ê¿ˆê¿”ì˜¨ ì˜ì–´ ì˜í•˜ëŠ” ì‚¬ëŒì´ ë˜ê¸° ìœ„í•´.' },
                        { title: 'ë„¤íŠ¸ì›Œí¬ê´€ë¦¬ì‚¬ 2ê¸‰ ìê²©ì¦ ë”°ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì´ê²ƒë„ ëª»ë”°ë©´ íšŒì‚¬ì— ìˆì„ ìê²©ì´ ì—†ë‹¤.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ë„¤íŠ¸ì›Œí¬ ê¸°ì´ˆ ë‹¤ì§€ê¸°.' },
                        { title: '1ë…„ì— ì±… 3ê¶Œ ì½ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : 1ë…„ì€ ë¬´ìŠ¨ 5ë…„ì— ì±… 1ê¶Œ ì½ëŠ” ë‚˜ì—ê² í° ë„ì „.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ê¸€ì“°ê¸°/ë§í•˜ê¸°/ì–´íœ˜ ëª¨ë‘ ì¡ì•„ë³´ì.' },
                        { title: 'ì—„ë¹  ëª¨ì‹œê³  êµ­ë‚´ì™¸ ì—¬í–‰ ê°€ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì—„ë§ˆì•„ë¹ ë¥¼ ë²„ë¦¬ê³  ì—¬í–‰ë‹¤ë‹ˆëŠ” ë¶ˆíš¨ì.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ë§ˆì§€ë§‰ ì—¬í–‰ì´ ì´ˆ6ì´ì—ˆë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•„ë²„ë¦¼.' },
                        { title: 'ì¹´í†¡ ì±—ë´‡ ë§Œë“¤ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì½ì”¹ ë°©ì§€ë´‡ ë§Œë“¤ê¸°.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : í†¡ë°© ê²½ì œ ì‚´ë¦¬ê¸°.' }
                    ],
                    mid: [
                        { title: 'ë„¤íŠ¸ì›Œí¬, AI, ì˜ì–´ ëª¨ë‘ ë ˆë²¨ 3 ë‹¬ì„±!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : 3ë ˆë²¨ì´ë€, ì„¤ëª…í•  ì¤„ ì•Œê³  ìŠ¤ìŠ¤ë¡œ ìì‹ ê°ì´ ìˆì–´ì„œ ëŠ¥ë™ì ì¸ ìƒíƒœë¼ê³  ìƒê°í•¨.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ë„ì›€ì´ ë˜ê³  í•„ìš”í•œ ì‚¬ëŒì´ ë˜ì–´ ëŒ€ì²´ ë¶ˆê°€ëŠ¥í•œ ì‚¬ëŒì´ ë˜ì.' },
                        { title: '1ë…„ì— ì±… 12ê¶Œ ì½ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : í•œë‹¬ì— ì±… í•œê¶Œ ì½ê¸° !!!!!!!!', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ë…ì„œí•˜ëŠ” ì‚¬ëŒì€ ë³´í†µ ë©‹ì§„ ì‚¬ëŒì´ë”ë¼.' }
                    ],
                    long: [
                        { title: 'ì±… ì¶œíŒí•˜ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : í‰ì†Œ ë©”ëª¨ë¥¼ ìì£¼ í•˜ëŠ”ë°, ê·¸ê±¸ ëª¨ì•„ì„œ ì¶œíŒí•´ë³´ê³ ì‹¶ë‹¤.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ìŒ“ì¸ ë©”ëª¨ë¥¼ í™œìš©í•´ë³´ê³  ì‹¶ì–´ì„œ.' },
                        { title: 'íŒŒíŒŒê³  ì—†ì´ ì˜ì–´ê¶Œ ì—¬í–‰í•˜ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì˜ì–´ì˜ ì‹ ì´ ë˜ì–´ í”„ë¦¬í† í‚¹ í•´ë³´ê³ ì‹¶ë‹¤.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : 10ë…„ê°„ ëª»ì´ë£¬ ê¿ˆ, ê·¸ ë‹¤ìŒ 10ë…„ì—” ì´ë¤„ë³´ê³ ì‹¶ì–´ì„œ.' },
                        { title: '1ë…„ì— ì±… 12ê¶Œ ì´ìƒ ì½ê¸°!', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : 12ê¶Œ ì´ìƒì˜ ì±…ì„ ê¾¸ì¤€íˆ ìë°œì ìœ¼ë¡œ ì½ì–´ë³´ì.', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : í‰ìƒì˜ ìŠµê´€ìœ¼ë¡œ ê¸¸ë“¤ì´ì.' }
                    ]
                }
            },
            {
                id: 'user2', name: 'í•œì˜ˆì›', position: 'í•™ìƒ', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=H',
                introduction: "ìƒˆë¡œìš´ ë„ì „ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šê³  ê¾¸ì¤€íˆ ì„±ì¥í•˜ëŠ” ì‚¶ì„ ì§€í–¥í•©ë‹ˆë‹¤. ëª©í‘œë¥¼ í–¥í•´ í•œ ê±¸ìŒì”© ë‚˜ì•„ê°€ê² ìŠµë‹ˆë‹¤!",
                goals: { short: [], mid: [ { title: 'ìƒˆë¡œìš´ ëª©í‘œ ì„¤ì •', details: 'êµ¬ì²´ì ì¸ ëª©í‘œë¥¼ ì„¸ìš°ê³  ì‹¤ì²œí•˜ê¸°', reason: 'ë” ë‚˜ì€ ë¯¸ë˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.' } ], long: [] }
            },
            {
                id: 'user3', name: 'ì„ì—°ìš°', position: 'í•™ìƒ', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=Y',
                introduction: "ëŒ€êµ¬ì˜ ìë‘, ëŒ€êµ¬ì˜ ì•„ë“¤, ë‚˜ ì„ì—°ìš°",
                goals: {
                    short: [
                        { title: 'ì¼ì£¼ì¼ 4ë²ˆ ë‹¬ë¦¬ê¸° (5 KM)', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì¥ì¶©ë¬¸í™”ì²´ìœ¡ê´€ì—ì„œ ëŸ°ë‹ë¨¸ì‹ ', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : í˜„ ì²´ì¤‘(69KG)ì—ì„œ 5KG ê°ëŸ‰ì„ ìœ„í•´' },
                        { title: 'í•˜ë£¨ ìˆœê³µ 5ì‹œê°„', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : í•˜ë£¨ ìˆœê³µ 5ì‹œê°„', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ê³µë¶€ ì¢€ í•˜ë¼ê³ ' }
                    ],
                    mid: [
                        { title: 'ì·¨ì—… í›„ ì¼ë³¸ì–´, ì˜ì–´ ê³µë¶€ ë° ì—¬í–‰', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ì¼ë³¸ì–´ëŠ” EBSê°•ì˜, ì˜ì–´ëŠ” ìŠ¤í”¼í‚¹ ìœ„ì£¼ë¡œ ê³µë¶€', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ì—¬í–‰ê°€ì„œ íšŒí™”ë¥¼ í•˜ë ¤ê³ ' },
                        { title: 'ê²½ë§¤ ê³µë¶€', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ê²½ë§¤ ê³µë¶€ í›„ ì…ì°° ë° ë‚™ì°° ë°›ê¸°', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ìì‚° ì¦ì‹' }
                    ],
                    long: [
                        { title: 'ë‹¤ê°€êµ¬ì£¼íƒ ë§ˆë ¨', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ë‹¤ê°€êµ¬ ìš´ì˜ ë° ì„ëŒ€ë£Œ ìˆ˜ì·¨', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : ê¾¸ì¤€í•œ í˜„ê¸ˆíë¦„ ì°½ì¶œê³¼ ë…¸í›„ ëŒ€ë¹„' },
                        { title: 'ê²°í˜¼', details: 'ëª©í‘œ ì„¤ëª… ê°„ë‹¨íˆ : ë”¸1, ì•„ë“¤1', reason: 'ëª©í‘œ ì ì€ ì´ìœ  : í˜¼ì ì‚´ë©´ ì“¸ì“¸í•˜ìë‚˜. ë¬´ì§€ì„± ë‚´ í¸ ë§Œë“¤ì–´ì•¼ì§€' }
                    ]
                }
            },
            {
                id: 'user4', name: 'ì˜¤ì„±í›ˆ', position: 'í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=O',
                introduction: "ì„±ê³µì ì¸ í”„ë¡œì íŠ¸ëŠ” 'ì‚¬ëŒ'ì—ì„œ ì‹œì‘ëœë‹¤ê³  ë¯¿ìŠµë‹ˆë‹¤. ì›í™œí•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ê³¼ ê¸ì •ì ì¸ íŒ€ì›Œí¬ë¥¼ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•©ë‹ˆë‹¤.",
                goals: { short: [], mid: [ { title: 'ìœ íŠœë¸Œ ì±„ë„ ê°œì„¤ ë° ìš´ì˜', details: 'IT ê¸°ê¸° ë¦¬ë·° ì½˜í…ì¸ , ì£¼ 1íšŒ ì˜ìƒ ì—…ë¡œë“œ', reason: 'ì œê°€ ê°€ì§„ ì§€ì‹ê³¼ ê²½í—˜ì„ ê³µìœ í•˜ë©° ì‚¬ëŒë“¤ê³¼ ì†Œí†µí•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.' } ], long: [] }
            },
            {
                id: 'user5', name: 'ì„í˜„íƒ', position: 'ê°œë°œì', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=I',
                introduction: "ìƒˆë¡œìš´ ê¸°ìˆ ì„ ë°°ìš°ê³  ì°½ì˜ì ì¸ ì†”ë£¨ì…˜ì„ ë§Œë“œëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ëŠì„ì—†ì´ ì„±ì¥í•˜ë©° ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ê°€ê² ìŠµë‹ˆë‹¤.",
                goals: { short: [], mid: [ { title: 'ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ ê¸°ì—¬', details: 'GitHubì—ì„œ ì¸ê¸° ìˆëŠ” í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê¸°', reason: 'ê°œë°œì ì»¤ë®¤ë‹ˆí‹°ì— ê¸°ì—¬í•˜ê³  ì‹¶ì–´ì„œì…ë‹ˆë‹¤.' } ], long: [] }
            },
            {
                id: 'user6', name: 'ì‚¬ê³µíƒœ', position: 'ë””ìì´ë„ˆ', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=S',
                introduction: "ì‚¬ìš©ì ê²½í—˜ì„ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ë””ìì¸ì„ ì¶”êµ¬í•©ë‹ˆë‹¤. ì•„ë¦„ë‹¤ì›€ê³¼ ê¸°ëŠ¥ì„±ì„ ëª¨ë‘ ë§Œì¡±ì‹œí‚¤ëŠ” ë””ìì¸ì„ ë§Œë“¤ê³  ì‹¶ì–´ìš”.",
                goals: { short: [], mid: [ { title: 'ë””ìì¸ í¬íŠ¸í´ë¦¬ì˜¤ ì™„ì„±', details: 'ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¡œ í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±í•˜ê¸°', reason: 'ë” ë‚˜ì€ ê¸°íšŒë¥¼ ì–»ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.' } ], long: [] }
            },
            {
                id: 'user7', name: 'ë‚˜ì •í˜¸', position: 'ë§ˆì¼€í„°', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=N',
                introduction: "ë°ì´í„° ê¸°ë°˜ì˜ ë§ˆì¼€íŒ… ì „ëµì„ ìˆ˜ë¦½í•˜ê³  ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ê³ ê°ì˜ ë‹ˆì¦ˆë¥¼ íŒŒì•…í•˜ì—¬ íš¨ê³¼ì ì¸ ìº í˜ì¸ì„ ë§Œë“¤ì–´ê°€ê² ìŠµë‹ˆë‹¤.",
                goals: { short: [], mid: [ { title: 'ë””ì§€í„¸ ë§ˆì¼€íŒ… ìê²©ì¦ ì·¨ë“', details: 'êµ¬ê¸€ ì• ë„ë¦¬í‹±ìŠ¤, í˜ì´ìŠ¤ë¶ ë¸”ë£¨í”„ë¦°íŠ¸ ë“± ìê²©ì¦ ì·¨ë“', reason: 'ì „ë¬¸ì„±ì„ ë†’ì´ê³  ì‹¶ì–´ì„œì…ë‹ˆë‹¤.' } ], long: [] }
            },
            {
                id: 'user8', name: 'ê¶Œíƒœì˜', position: 'ê¸°íšì', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=K',
                introduction: "ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì„œë¹„ìŠ¤ ê¸°íšì„ í†µí•´ ê°€ì¹˜ ìˆëŠ” ì œí’ˆì„ ë§Œë“œëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ì‹¶ì–´ìš”.",
                goals: { short: [], mid: [ { title: 'ì„œë¹„ìŠ¤ ê¸°íš ìŠ¤í„°ë”” ì°¸ì—¬', details: 'ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ ê¸°íš ì‚¬ë¡€ ë¶„ì„ ë° í† ë¡ ', reason: 'ê¸°íš ì—­ëŸ‰ì„ í‚¤ìš°ê³  ì‹¶ì–´ì„œì…ë‹ˆë‹¤.' } ], long: [] }
            },
            {
                id: 'user9', name: 'ê¹€ì£¼ì™„', position: 'ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸', avatar: 'https://placehold.co/100x100/dbeafe/3b82f6?text=J',
                introduction: "ë°ì´í„°ë¥¼ í†µí•´ ìˆ¨ê²¨ì§„ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°œê²¬í•˜ê³  ë¹„ì¦ˆë‹ˆìŠ¤ì— ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ë¨¸ì‹ ëŸ¬ë‹ê³¼ AI ê¸°ìˆ ì— ê´€ì‹¬ì´ ë§ì•„ìš”.",
                goals: { short: [], mid: [ { title: 'ë¨¸ì‹ ëŸ¬ë‹ í”„ë¡œì íŠ¸ ì™„ì„±', details: 'ì‹¤ì œ ë°ì´í„°ë¥¼ í™œìš©í•œ ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ', reason: 'AI ê¸°ìˆ ì„ ì‹¤ë¬´ì— ì ìš©í•´ë³´ê³  ì‹¶ì–´ì„œì…ë‹ˆë‹¤.' } ], long: [] }
            }
        ];
        
        const goalTypes = [ 
            { key: 'short', title: 'ğŸš€ ë‹¨ê¸° ëª©í‘œ', header: 'ë‹¨ê¸° ì§‘ì¤‘ ê³¼ì œ' }, 
            { key: 'mid', title: 'ğŸƒâ€â™‚ï¸ ì¤‘ê¸° ëª©í‘œ', header: 'ì„±ì¥ì„ ìœ„í•œ ì—¬ì •' }, 
            { key: 'long', title: 'ğŸ† ì¥ê¸° ëª©í‘œ', header: 'ì¸ìƒì˜ ìµœì¢… ë¹„ì „' } 
        ];

        // --- DOM ìš”ì†Œ ---
        const userSelector = document.getElementById('user-selector');
        const initialView = document.getElementById('initial-view');
        const userDashboard = document.getElementById('user-dashboard');
        const userHeader = document.getElementById('user-header');
        const tabNavContainer = document.getElementById('tab-nav-container');
        const tabNav = document.getElementById('tab-nav');
        const tabUnderline = document.getElementById('tab-underline');
        const tabContent = document.getElementById('tab-content');
        const introContainer = document.getElementById('intro-container');
        
        let activeUser = null;
        let activeTab = 'short';

        // --- UX ê°œì„ : ì§„ì§œ ë¬¼ë°©ìš¸ ì†Œë¦¬ (FMSynth) ---
        const synth = new Tone.FMSynth({
            harmonicity: 8,
            modulationIndex: 2,
            envelope: {
                attack: 0.001,
                decay: 0.3,
                sustain: 0,
                release: 0.3,
            },
            modulationEnvelope: {
                attack: 0.002,
                decay: 0.2,
                sustain: 0,
                release: 0.2
            }
        }).toDestination();

        const playSound = (note, rampToNote) => {
            if (Tone.context.state !== 'running') {
                Tone.start();
            }
            synth.triggerAttackRelease(note, "8n", Tone.now());
            if (rampToNote) {
                synth.frequency.rampTo(rampToNote, 0.1);
            }
        }

        // --- í•¨ìˆ˜ ì˜ì—­ ---
        
        function updateFavicon(initial) {
            const favicon = document.getElementById('favicon');
            const canvas = document.createElement('canvas');
            canvas.width = 64; canvas.height = 64;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#0ea5e9';
            ctx.fillRect(0, 0, 64, 64);
            ctx.fillStyle = 'white';
            ctx.font = 'bold 40px Pretendard, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(initial, 32, 34);
            favicon.href = canvas.toDataURL('image/png');
        }

        function renderUserButtons() {
            userSelector.innerHTML = usersData.map(user => `
                <a href="#" data-user-id="${user.id}" class="clickable flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all duration-200 relative ${user.id === activeUser ? 'bg-sky-100/80 text-sky-700' : 'text-slate-600 hover:bg-slate-100'}">
                    ${user.id === activeUser ? '<div class="absolute left-0 top-0 bottom-0 w-1 bg-sky-500 rounded-r-full"></div>' : ''}
                    <img src="${user.avatar}" alt="${user.name}" class="w-9 h-9 rounded-full">
                    <span>${user.name}</span>
                </a>
            `).join('');
        }
        
        function renderDashboard(userId) {
            const user = usersData.find(u => u.id === userId);
            if (!user) return;
            initialView.style.display = 'none';
            userDashboard.classList.remove('hidden');
            userDashboard.classList.add('fade-in');
            updateFavicon(user.name.charAt(0));
            updateDashboard(user);
        }

        function updateDashboard(user) {
            const currentGoalType = goalTypes.find(g => g.key === activeTab);
            userHeader.innerHTML = `<h2 class="text-4xl font-bold text-slate-800">${currentGoalType.header}</h2>`;

            tabNav.innerHTML = goalTypes.map(type => {
                const goalsOfType = user.goals[type.key];
                return `<button data-tab-key="${type.key}" class="clickable tab-button relative whitespace-nowrap p-4 text-base font-semibold transition-colors duration-200 flex items-center gap-2 ${type.key === activeTab ? 'text-sky-600' : 'text-slate-500 hover:text-slate-700'}">
                    ${type.title} <span class="bg-slate-200 text-slate-600 text-xs font-bold px-2 py-0.5 rounded-full">${goalsOfType.length}</span>
                </button>`;
            }).join('');
            
            requestAnimationFrame(moveUnderline);
            renderTabContent(user);
            renderIntroduction(user);
        }
        
        function moveUnderline() {
            const activeButton = tabNav.querySelector(`[data-tab-key="${activeTab}"]`);
            if (activeButton) {
                tabUnderline.style.left = `${activeButton.offsetLeft}px`;
                tabUnderline.style.width = `${activeButton.offsetWidth}px`;
            }
        }

        function renderIntroduction(user) {
            introContainer.innerHTML = `
                <div class="stagger-in bg-white/60 backdrop-blur-lg rounded-xl shadow-lg border border-white/30 p-6 sticky top-8" style="--i: 0;">
                    <div class="flex flex-col items-center text-center">
                        <img src="${user.avatar}" alt="${user.name}" class="w-24 h-24 rounded-full shadow-lg border-4 border-white mb-4">
                        <h3 class="text-2xl font-bold text-slate-800">${user.name}</h3>
                        <p class="text-sm text-slate-500 mb-4">${user.position}</p>
                        <p class="text-slate-600 text-sm leading-relaxed">"${user.introduction}"</p>
                    </div>
                </div>
            `;
        }

        function renderTabContent(user) {
            tabContent.innerHTML = goalTypes.map(type => `
                <div id="panel-${type.key}" class="tab-panel ${type.key !== activeTab ? 'hidden' : ''}">
                    <div class="space-y-5">
                        ${user.goals[type.key].length > 0
                            ? user.goals[type.key].map((goal, index) => `
                                <div class="goal-card stagger-in clickable bg-white/60 backdrop-blur-lg rounded-xl shadow-lg border border-white/30 overflow-hidden group cursor-pointer" style="--i: ${index};">
                                    <div class="goal-header flex items-center justify-between p-5 gap-4">
                                        <span class="goal-title font-semibold text-slate-800 flex-1">${goal.title}</span>
                                        <div class="expand-button p-1 text-slate-400 group-hover:text-sky-500">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
                                        </div>
                                    </div>
                                    <div class="grid-accordion">
                                        <div><div class="px-5 pb-5 pt-2 border-t border-slate-200/80 text-sm space-y-4">
                                            <div><h4 class="font-semibold text-sky-600 mb-1">ì„¸ë¶€ ë‚´ìš©</h4><p class="text-slate-600 leading-relaxed">${goal.details}</p></div>
                                            <div><h4 class="font-semibold text-slate-500 mt-4 mb-1">ì´ìœ </h4><p class="text-slate-500 leading-relaxed">${goal.reason}</p></div>
                                        </div></div>
                                    </div>
                                </div>
                            `).join('')
                            : `<div class="bg-white/70 backdrop-blur-sm rounded-lg p-8 text-center text-slate-500 shadow-md border border-white/30">
                                <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-teal-300 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                <p class="mb-4 text-lg font-semibold">ìƒˆë¡œìš´ ëª©í‘œë¥¼ ì„¸ìš¸ ì‹œê°„ì…ë‹ˆë‹¤!</p>
                                <p class="text-slate-400 mb-6">ìœ„ëŒ€í•œ ì—¬ì •ì˜ ì²«ê±¸ìŒì„ ë‚´ë”›ì–´ ë³´ì„¸ìš”.</p>
                                <button class="pulsing-button clickable bg-sky-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-600 transition-colors text-base shadow-lg">âœ¨ ìƒˆë¡œìš´ ëª©í‘œ ì¶”ê°€í•˜ê¸°</button>
                               </div>`
                        }
                    </div>
                </div>
            `).join('');

            const activePanel = document.getElementById(`panel-${activeTab}`);
            if (activePanel) {
                activePanel.classList.add('active');
                const firstCard = activePanel.querySelector('.goal-card');
                if (firstCard) {
                    setTimeout(() => {
                        const accordion = firstCard.querySelector('.grid-accordion');
                        const icon = firstCard.querySelector('svg');
                        accordion.classList.add('open');
                        icon.classList.add('rotate-180');
                    }, 50);
                }
            }
        }

        // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---

        userSelector.addEventListener('click', (e) => {
            e.preventDefault();
            const targetButton = e.target.closest('a');
            if (targetButton && targetButton.dataset.userId !== activeUser) {
                playSound("C5");
                activeUser = targetButton.dataset.userId;
                activeTab = 'short';
                renderUserButtons();
                renderDashboard(activeUser);
            }
        });

        userDashboard.addEventListener('click', (e) => {
            const tabButton = e.target.closest('.tab-button');
            
            if (tabButton && tabButton.dataset.tabKey !== activeTab) {
                playSound("C5");
                activeTab = tabButton.dataset.tabKey;
                const user = usersData.find(u => u.id === activeUser);
                updateDashboard(user);
            }

            const card = e.target.closest('.goal-card');
            if (card) {
                const accordion = card.querySelector('.grid-accordion');
                const isOpen = accordion.classList.contains('open');

                const allCards = card.closest('.space-y-5').querySelectorAll('.goal-card');
                allCards.forEach(otherCard => {
                    otherCard.querySelector('.grid-accordion').classList.remove('open');
                    otherCard.querySelector('svg').classList.remove('rotate-180');
                });

                if (!isOpen) {
                    playSound("C5", "G4"); // "ë˜ì‰~" íš¨ê³¼
                    accordion.classList.add('open');
                    card.querySelector('svg').classList.add('rotate-180');
                } else {
                    playSound("C4"); // ë‹«ì„ ë• ë‚®ì€ 'ë˜‘' ì†Œë¦¬
                }
            }
        });
        
        window.addEventListener('resize', moveUnderline);

        // --- ì´ˆê¸°í™” ---
        renderUserButtons();

    </script>
</body>
</html>
